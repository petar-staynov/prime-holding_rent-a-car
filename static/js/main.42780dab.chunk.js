(this["webpackJsonpprime-holding_rent-a-car"]=this["webpackJsonpprime-holding_rent-a-car"]||[]).push([[0],{54:function(e,t,c){},55:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),r=c.n(a),s=c(28),l=c.n(s),i=(c(54),c(55),c(70)),j=c(72),o=c(9),b=function(e){return Object(n.jsxs)(i.a,{bg:"light",expand:"lg",children:[Object(n.jsx)(i.a.Brand,{as:o.c,to:"/",children:"RaC"}),Object(n.jsx)(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(i.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsxs)(j.a,{className:"mr-auto",children:[Object(n.jsx)(j.a.Link,{as:o.c,to:"/",children:"Home"}),Object(n.jsx)(j.a.Link,{as:o.c,to:"/vehicles",children:"Vehicles"}),Object(n.jsx)(j.a.Link,{as:o.c,to:"/customers",children:"Customers"}),Object(n.jsx)(j.a.Link,{as:o.c,to:"/rent",children:"Rent a car"}),Object(n.jsx)(j.a.Link,{as:o.c,to:"/rents",children:"Rental events"})]})})]})},d=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"text-center",children:"Rent a car"}),Object(n.jsx)("p",{children:"This is a simple web app built using React (Hooks), Bootstrap and Firebase Firestore (DB) and Firebase Storage (Image storage)"}),Object(n.jsx)("h6",{children:"Functionality:"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"[Customers] Read feature"}),Object(n.jsx)("li",{children:"[Customers] Create feature"}),Object(n.jsx)("li",{children:"[Customers] Edit feature"}),Object(n.jsx)("li",{children:"[Customers] Delete feature"}),Object(n.jsx)("li",{children:"[Vehicles] Read feature (list, browse)"}),Object(n.jsx)("li",{children:"[Vehicles] Create feature"}),Object(n.jsx)("li",{children:"[Vehicles] Update feature"}),Object(n.jsx)("li",{children:"[Vehicles] Delete feature"}),Object(n.jsx)("li",{children:"Rent a car feature - update number of available vehicles"}),Object(n.jsx)("li",{children:"Rent a car feature - rental period discounts"}),Object(n.jsx)("li",{children:"[Rental Events] Read feature (list, browse)"})]})]})},u=c(11),h=c(5),O=c(35);c(67),c(61);O.a.initializeApp({apiKey:"AIzaSyDYt3OF7irKx1Va069tX7KX7waHE_UIhqQ",authDomain:"rent-a-car-78289.firebaseapp.com",databaseURL:"https://rent-a-car-78289.firebaseio.com",projectId:"rent-a-car-78289",storageBucket:"rent-a-car-78289.appspot.com",messagingSenderId:"798115532448",appId:"1:798115532448:web:fe1400a7383e407ac8c3c5"});var x=O.a.storage(),m=O.a.firestore(),p=c(15),v={petrol:"Petrol",diesel:"Diesel",hybrid:"Hybrid",electric:"Electric"},f=function(e){var t=e.picture,c=e.css,a=""===t?"".concat("/prime-holding_rent-a-car","/img/600x800.png"):t;return Object(n.jsx)("img",{src:a,className:"img-fluid",style:c})},g=function(e){return new Date(e.toDate()).getFullYear()},y=function(e){return new Date(e.toDate())},N=function(e){return y(e).toISOString().substring(0,10)},C=function(e){return e.toISOString().substring(0,10)},w=function(e,t){var c=y(e),n=y(t).getTime()-c.getTime();return Math.ceil(n/864e5)},L=function(e){var t=m.collection("vehicles"),c=Object(u.e)(),a=Object(p.a)(t,{idField:"id"}),r=Object(h.a)(a,1)[0],s=function(e){var t=e.vehicleObj,a=t.id,r=t.brand,s=t.model,l=t.year,i=t.type,j=t.fuelType,o=t.price,b=t.seatsNumber,d=t.picture,u=t.count;return Object(n.jsxs)("tr",{onClick:function(){c.push("/vehicles/view/".concat(a))},style:{cursor:"pointer"},children:[Object(n.jsx)("td",{children:Object(n.jsx)(f,{picture:d,css:{maxHeight:"4rem"}})}),Object(n.jsx)("td",{children:r}),Object(n.jsx)("td",{children:s}),Object(n.jsx)("td",{children:g(l)}),Object(n.jsx)("td",{children:i}),Object(n.jsx)("td",{children:v[j]}),Object(n.jsx)("td",{children:b}),Object(n.jsx)("td",{children:o}),Object(n.jsx)("td",{children:u})]})};return r?Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"text-center",children:"Vehicles"}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("button",{className:"btn btn-primary",onClick:function(){c.push("/vehicles/add")},children:"Add new vehicle"})}),Object(n.jsx)("hr",{}),Object(n.jsxs)("table",{className:"table table-responsive-md",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Photo"}),Object(n.jsx)("th",{scope:"col",children:"Brand"}),Object(n.jsx)("th",{scope:"col",children:"Model"}),Object(n.jsx)("th",{scope:"col",children:"Year"}),Object(n.jsx)("th",{scope:"col",children:"Type"}),Object(n.jsx)("th",{scope:"col",children:"Fuel"}),Object(n.jsx)("th",{scope:"col",children:"Seats"}),Object(n.jsx)("th",{scope:"col",children:"$/day"}),Object(n.jsx)("th",{scope:"col",children:"Count"})]})}),Object(n.jsx)("tbody",{children:r.map((function(e,t){return Object(n.jsx)(s,{vehicleObj:e},t)}))})]})]}):Object(n.jsx)("h1",{className:"text-center",children:"LOADING..."})},E=c(71),D=c(69),S={economy:"Economy",estate:"Estate",luxury:"Luxury",suv:"SUV",cargo:"Cargo"},k="2030-12-31",R=c(48),q=Object(R.a)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),P=q.actions,I=(P.increment,P.decrement,P.incrementByAmount,q.reducer,c(27)),T=function e(t,c,n,a,r){Object(I.a)(this,e),this.startDate=t,this.endDate=c,this.customerId=n,this.vehicleId=a,this.rentPrice=r},A=function(e){var t=Object(a.useState)(""),c=Object(h.a)(t,2),r=c[0],s=c[1],l=Object(a.useState)(""),i=Object(h.a)(l,2),j=i[0],o=i[1],b=Object(a.useState)(""),d=Object(h.a)(b,2),O=d[0],x=d[1],v=Object(a.useState)(""),f=Object(h.a)(v,2),y=f[0],N=f[1],w=Object(a.useState)(0),L=Object(h.a)(w,2),S=L[0],R=L[1],q=Object(a.useState)(0),P=Object(h.a)(q,2),I=P[0],A=P[1],F=Object(u.e)(),V=m.collection("customers"),B=m.collection("vehicles"),M=m.collection("rents"),H=Object(p.a)(V,{idField:"id"}),z=Object(h.a)(H,1)[0],U=Object(p.a)(B,{idField:"id"}),Y=Object(h.a)(U,1)[0];Object(a.useEffect)((function(){Y&&s(Y[0]),z&&o(z[0])}),[Y,z]),Object(a.useEffect)((function(){if(O&&y){var e=function(e,t){var c=new Date(e),n=new Date(t).getTime()-c.getTime();return Math.ceil(n/864e5)}(O,y),t=e*r.price;e>=10?(t-=.1*t,A(10)):e>=7?(t-=.07*t,A(7)):e>=3?(t-=.03*t,A(3)):A(0),R(t)}}),[O,y]);return z&&Y?0===z.length||0===Y.length?Object(n.jsx)("h1",{className:"text-center",children:"Not enough customers or vehicles available."}):z.length>0&&Y.length>0?Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"text-center",children:"Rent a car"}),Object(n.jsxs)(E.a,{onSubmit:function(e){if(e.preventDefault(),s)if(j)if(O)if(y)if(S<=0)alert("You need to rent the vehicle for at least one day");else{r.count<=0&&alert("This vehicle isn't available. Please select another one!");var t=new T(new Date(O),new Date(y),j.id,r.id,S);M.add(Object.assign({},t)).then((function(e){console.log("Rent event created!"),console.log(r.id),B.doc(r.id).update({count:r.count-1}).then((function(){F.push("/rents")}))})).catch((function(e){alert("Error"),console.log(e)}))}else alert("Please select an end date");else alert("Please select a start date");else alert("Please select a customer");else alert("Please select a vehicle")},children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col col-auto",children:[Object(n.jsx)("p",{children:"Select a customer:"}),Object(n.jsx)(E.a.Control,{as:"select",required:!0,value:j,onChange:function(e){return o(e.target.value)},children:z.map((function(e,t){return Object(n.jsx)("option",{value:e,children:e.name},t)}))})]}),Object(n.jsxs)("div",{className:"col col-auto",children:[Object(n.jsx)("p",{children:"Select a vehicle:"}),Object(n.jsx)(E.a.Control,{as:"select",required:!0,value:r,onChange:function(e){return s(e.target.value)},children:Y.map((function(e,t){return Object(n.jsxs)("option",{value:e,children:[e.brand," ",e.model," ",g(e.year)," - ",e.count]},t)}))})]}),Object(n.jsxs)("div",{className:"col col-auto",children:[Object(n.jsx)("p",{children:"Start Date:"}),Object(n.jsx)(E.a.Control,{type:"date",required:!0,value:O,max:k,onChange:function(e){return x(e.target.value)}})]}),Object(n.jsxs)("div",{className:"col col-auto",children:[Object(n.jsx)("p",{children:"End Date:"}),Object(n.jsx)(E.a.Control,{type:"date",min:C(O?new Date(O):new Date(Date.now())),max:k,required:!0,value:y,onChange:function(e){return N(e.target.value)}})]}),Object(n.jsxs)("div",{className:"col col-auto",children:[Object(n.jsx)("p",{children:"Price"}),Object(n.jsx)("span",{children:S})]})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsxs)("p",{children:["Discount: ",I,"%"]}),Object(n.jsx)("br",{}),Object(n.jsx)(D.a,{variant:"primary",type:"submit",children:"Rent"})]})]})]}):void 0:Object(n.jsx)("h1",{className:"text-center",children:"LOADING..."})},F=function(e){var t=m.collection("customers"),c=Object(u.e)(),a=Object(p.a)(t,{idField:"id"}),r=Object(h.a)(a,1)[0],s=function(e){var t=e.customerObj,a=t.id,r=t.name,s=t.email,l=t.phone;return Object(n.jsxs)("tr",{onClick:function(){c.push("/customers/view/".concat(a))},style:{cursor:"pointer"},children:[Object(n.jsx)("td",{children:r}),Object(n.jsx)("td",{children:s}),Object(n.jsx)("td",{children:l})]})};return r?Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"text-center",children:"Customers"}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("button",{className:"btn btn-primary",onClick:function(){c.push("/customers/add")},children:"Add new customer"})}),Object(n.jsx)("hr",{}),Object(n.jsxs)("table",{className:"table table-responsive-md",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Name"}),Object(n.jsx)("th",{scope:"col",children:"Email"}),Object(n.jsx)("th",{scope:"col",children:"Phone"})]})}),Object(n.jsx)("tbody",{children:r.map((function(e,t){return Object(n.jsx)(s,{customerObj:e},t)}))})]})]}):Object(n.jsx)("h1",{className:"text-center",children:"LOADING..."})},V=c(12),B=c.n(V),M=c(16),H={jpg:"image/jpeg"},z=function e(t,c,n,a,r,s,l,i,j){Object(I.a)(this,e),this.brand=t,this.model=c,this.year=n,this.type=a,this.fuelType=r,this.seats=s,this.price=l,this.count=i,this.picture=j},U=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/gm,Y=/^(\+?)[\d]+$/gm,_=function e(t,c,n){Object(I.a)(this,e),this.name=t,this.email=c,this.phone=n},$=function(e){var t=e.brand,c=e.model,n=e.year,a=e.type,r=e.fuelType,s=e.seats,l=e.price,i=e.count;return t?c?n?a?r?!s||s<=0?"Please enter a valid number of seats":!l||l<0?"Please enter a valid price":!(!i||i<0)||"Please enter a valid amount of available vehicles":"Please select a fuel type":"Please select a vehicle type":"Please enter a valid year":"Please type a model":"Please type a brand"},G=function(e){var t=e.name,c=e.email,n=e.phone,a=new RegExp(U),r=new RegExp(Y);return t?c&&a.test(c)?!(!n||!r.test(n))||"Please type a valid phone number of at least 10 digits":"Please type a valid email":"Please type a valid name"},K=function(e){var t=Object(a.useState)(""),c=Object(h.a)(t,2),r=c[0],s=c[1],l=Object(a.useState)(""),i=Object(h.a)(l,2),j=i[0],o=i[1],b=Object(a.useState)(""),d=Object(h.a)(b,2),O=d[0],p=d[1],f=Object(a.useState)("economy"),g=Object(h.a)(f,2),y=g[0],N=g[1],C=Object(a.useState)("petrol"),w=Object(h.a)(C,2),L=w[0],k=w[1],R=Object(a.useState)("0"),q=Object(h.a)(R,2),P=q[0],I=q[1],T=Object(a.useState)("0"),A=Object(h.a)(T,2),F=A[0],V=A[1],U=Object(a.useState)("0"),Y=Object(h.a)(U,2),_=Y[0],G=Y[1],K=Object(a.useState)(null),J=Object(h.a)(K,2),W=J[0],X=J[1],Z=Object(u.e)(),Q=m.collection("vehicles"),ee=function(){var e=Object(M.a)(B.a.mark((function e(t){var c,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e){if(e){var t=new z(r,j,new Date(O),y,L,P,F,_,e);Q.add(Object.assign({},t)).then((function(e){Z.push("/vehicles")})).catch((function(e){alert("Error"),console.log(e)}))}else alert("Invalid image")},t.preventDefault(),!0===(n=$({brand:r,model:j,year:O,type:y,fuelType:L,seats:P,price:F,count:_}))){e.next=6;break}return alert(n),e.abrupt("return");case 6:return e.next=8,x.ref(W.name).put(W).on("state_changed",(function(e){}),(function(e){alert("ERROR"),console.log(e)}),Object(M.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.ref().child(W.name).getDownloadURL();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("h1",{children:"ADD VEHICLE"}),Object(n.jsxs)(E.a,{onSubmit:ee,children:[Object(n.jsx)(E.a.Label,{children:"Brand"}),Object(n.jsx)(E.a.Control,{type:"text",name:"brand",placeholder:"Brand...",required:!0,value:r,onChange:function(e){return s(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Model"}),Object(n.jsx)(E.a.Control,{type:"text",placeholder:"Model...",required:!0,value:j,onChange:function(e){return o(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Year"}),Object(n.jsx)(E.a.Control,{type:"date",placeholder:"Construction year...",min:"1980-01-01",required:!0,value:O,onChange:function(e){return p(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Type"}),Object(n.jsx)(E.a.Control,{as:"select",required:!0,value:y,onChange:function(e){return N(e.target.value)},children:Object.entries(S).map((function(e){var t=Object(h.a)(e,2),c=t[0],a=t[1];return Object(n.jsx)("option",{value:c,children:a},c)}))}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Fuel type"}),Object(n.jsx)(E.a.Control,{as:"select",required:!0,value:L,onChange:function(e){return k(e.target.value)},children:Object.entries(v).map((function(e){var t=Object(h.a)(e,2),c=t[0],a=t[1];return Object(n.jsx)("option",{value:c,children:a},c)}))}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Number of seats"}),Object(n.jsx)(E.a.Control,{type:"number",placeholder:"Number of seats...",min:1,max:7,required:!0,value:P,onChange:function(e){return I(Number(e.target.value))}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Rent price"}),Object(n.jsx)(E.a.Control,{type:"number",placeholder:"Rent price...",min:1,required:!0,value:F,onChange:function(e){return V(Number(e.target.value))}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Available vehicles"}),Object(n.jsx)(E.a.Control,{type:"number",placeholder:"Available vehicles...",min:1,required:!0,value:_,onChange:function(e){return G(Number(e.target.value))}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Image"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"file",required:!0,onChange:function(e){var t=e.target.files[0];t.size>1e6?(X(null),alert("Image can not be larger than 1 Megabyte")):t||Object.values(H).includes(t.type)?X(t):(X(null),alert("Invalid image"))}}),Object(n.jsx)("hr",{}),Object(n.jsx)(D.a,{variant:"primary",type:"submit",children:"Submit"})]})]})},J=c(10),W=function(e){var t=e.match.params.id,c=Object(a.useState)(null),r=Object(h.a)(c,2),s=r[0],l=r[1],i=Object(a.useState)(null),j=Object(h.a)(i,2),o=j[0],b=j[1],d=Object(u.e)(),O=m.collection("vehicles");Object(a.useEffect)((function(){O.doc(t).get().then((function(e){l(e.data())}))}),[]);var p=function(){var e=Object(M.a)(B.a.mark((function e(c){var n,a,r,l,i,j,b,u,h,m;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),n=s.brand,a=s.model,r=s.year,l=s.type,i=s.fuelType,j=s.seats,b=s.price,u=s.count,h=function(e){e||(e=s.picture);var c=new z(n,a,r,l,i,j,b,u,e);O.doc(t).update(Object.assign({},c)).then((function(){console.log("Document successfully updated!"),d.push("/vehicles/view/".concat(t))})).catch((function(e){alert("Error"),console.log(e)}))},!0===(m=$(s))){e.next=7;break}return alert(m),e.abrupt("return");case 7:if(!o){e.next=11;break}return e.next=10,x.ref(o.name).put(o).on("state_changed",(function(e){}),(function(e){alert("ERROR"),console.log(e)}),Object(M.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.ref().child(o.name).getDownloadURL();case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)}))));case 10:return e.abrupt("return");case 11:h();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(s){var g=s.brand,y=s.model,C=s.year,w=s.type,L=s.fuelType,k=s.price,R=s.seats,q=(s.picture,s.count);return Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("h1",{children:"EDIT VEHICLE"}),Object(n.jsx)(f,{picture:s.picture,css:{maxHeight:"24rem"}}),Object(n.jsxs)(E.a,{onSubmit:p,children:[Object(n.jsx)(E.a.Label,{children:"Brand"}),Object(n.jsx)(E.a.Control,{type:"text",name:"brand",placeholder:"Brand...",required:!0,value:g,onChange:function(e){return l(Object(J.a)(Object(J.a)({},s),{},{brand:e.target.value}))}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Model"}),Object(n.jsx)(E.a.Control,{type:"text",placeholder:"Model...",required:!0,value:y,onChange:function(e){return l(Object(J.a)(Object(J.a)({},s),{},{model:e.target.value}))}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Year"}),Object(n.jsx)(E.a.Control,{type:"date",placeholder:"Construction year...",min:"1980-01-01",required:!0,value:N(C),onChange:function(e){return l(Object(J.a)(Object(J.a)({},s),{},{year:e.target.value}))}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Type"}),Object(n.jsx)(E.a.Control,{as:"select",required:!0,value:w,onChange:function(e){return l(Object(J.a)(Object(J.a)({},s),{},{type:e.target.value}))},children:Object.entries(S).map((function(e){var t=Object(h.a)(e,2),c=t[0],a=t[1];return Object(n.jsx)("option",{value:c,children:a},c)}))}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Fuel type"}),Object(n.jsx)(E.a.Control,{as:"select",required:!0,value:L,onChange:function(e){return l(Object(J.a)(Object(J.a)({},s),{},{fuelType:e.target.value}))},children:Object.entries(v).map((function(e){var t=Object(h.a)(e,2),c=t[0],a=t[1];return Object(n.jsx)("option",{value:c,children:a},c)}))}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Number of seats"}),Object(n.jsx)(E.a.Control,{type:"number",placeholder:"Number of seats...",min:1,max:7,required:!0,value:R,onChange:function(e){return l(Object(J.a)(Object(J.a)({},s),{},{seats:Number(e.target.value)}))}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Rent price"}),Object(n.jsx)(E.a.Control,{type:"number",placeholder:"Rent price...",min:1,required:!0,value:k,onChange:function(e){return l(Object(J.a)(Object(J.a)({},s),{},{price:e.target.value}))}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Available vehicles"}),Object(n.jsx)(E.a.Control,{type:"number",placeholder:"Available vehicles...",min:1,required:!0,value:q,onChange:function(e){return l(Object(J.a)(Object(J.a)({},s),{},{count:e.target.value}))}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"New image"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t.size>1e6?(b(null),alert("Image can not be larger than 1 Megabyte")):t||Object.values(H).includes(t.type)?b(t):(b(null),alert("Invalid image"))}}),Object(n.jsx)("hr",{}),Object(n.jsx)(D.a,{variant:"success",type:"submit",children:"Submit"})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-1",onClick:function(){d.push("/vehicles/view/".concat(t))},children:"View"}),Object(n.jsx)("button",{type:"button",className:"btn btn-danger mr-1",onClick:function(){d.push("/vehicles/delete/".concat(t))},children:"Delete"})]})}),Object(n.jsx)("br",{})]})}return Object(n.jsx)("div",{className:"text-center",children:"Loading..."})},X=function(e){var t=e.match.params.id,c=Object(a.useState)(null),r=Object(h.a)(c,2),s=r[0],l=r[1],i=Object(u.e)(),j=m.collection("vehicles");Object(a.useEffect)((function(){j.doc(t).get().then((function(e){l(e.data())}))}),[]);var o=function(){var e=Object(M.a)(B.a.mark((function e(c){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,j.doc(t).delete().then((function(){alert("Vehicle deleted!"),i.push("/vehicles")})).catch((function(e){alert("Error"),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(s){var b=s.brand,d=s.model,O=s.year,x=s.type,p=s.fuelType,g=s.price,y=s.seats,C=(s.picture,s.count);return Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("h1",{children:"DELETE VEHICLE"}),Object(n.jsx)(f,{picture:s.picture,css:{maxHeight:"24rem"}}),Object(n.jsxs)(E.a,{onSubmit:o,children:[Object(n.jsx)(E.a.Label,{children:"Brand"}),Object(n.jsx)(E.a.Control,{type:"text",name:"brand",placeholder:"Brand...",disabled:!0,value:b}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Model"}),Object(n.jsx)(E.a.Control,{type:"text",placeholder:"Model...",disabled:!0,value:d}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Year"}),Object(n.jsx)(E.a.Control,{type:"date",placeholder:"Construction year...",disabled:!0,value:N(O)}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Type"}),Object(n.jsx)(E.a.Control,{as:"select",required:!0,disabled:!0,value:x,children:Object(n.jsx)("option",{value:S[x],children:S[x]},x)}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Fuel type"}),Object(n.jsx)(E.a.Control,{as:"select",required:!0,disabled:!0,value:p,children:Object(n.jsx)("option",{value:v[p],children:v[p]},p)}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Number of seats"}),Object(n.jsx)(E.a.Control,{type:"number",placeholder:"Number of seats...",disabled:!0,value:y}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Rent price"}),Object(n.jsx)(E.a.Control,{type:"number",placeholder:"Rent price...",disabled:!0,value:g}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Available vehicles"}),Object(n.jsx)(E.a.Control,{type:"number",placeholder:"Available vehicles...",disabled:!0,value:C}),Object(n.jsx)("br",{}),Object(n.jsx)(D.a,{variant:"danger",size:"lg",type:"submit",children:"Delete"})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-1",onClick:function(){i.push("/vehicles/view/".concat(t))},children:"View"}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning mr-1",onClick:function(){i.push("/vehicles/edit/".concat(t))},children:"Edit"})]})}),Object(n.jsx)("br",{})]})}return Object(n.jsx)("div",{className:"text-center",children:"Loading..."})},Z=function(e){var t=e.match.params.id,c=Object(a.useState)(null),r=Object(h.a)(c,2),s=r[0],l=r[1],i=Object(u.e)(),j=m.collection("vehicles");Object(a.useEffect)((function(){j.doc(t).get().then((function(e){l(e.data())}))}),[]);if(s){s.id;var o=s.brand,b=s.model,d=s.year,O=s.type,x=s.fuelType,p=s.price,y=s.seats,N=s.picture,C=s.count;return Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)(f,{picture:N,css:{maxHeight:"24rem"}})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6 text-right",children:Object(n.jsx)("h2",{children:"Brand:"})}),Object(n.jsx)("div",{className:"col-6 text-left",children:Object(n.jsx)("h2",{children:o})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6 text-right",children:Object(n.jsx)("h2",{children:"Model:"})}),Object(n.jsx)("div",{className:"col-6 text-left",children:Object(n.jsx)("h2",{children:b})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6 text-right",children:Object(n.jsx)("h2",{children:"Year:"})}),Object(n.jsx)("div",{className:"col-6 text-left",children:Object(n.jsx)("h2",{children:g(d)})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6 text-right",children:Object(n.jsx)("h2",{children:"Type:"})}),Object(n.jsx)("div",{className:"col-6 text-left",children:Object(n.jsx)("h2",{children:O})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6 text-right",children:Object(n.jsx)("h2",{children:"Fuel:"})}),Object(n.jsx)("div",{className:"col-6 text-left",children:Object(n.jsx)("h2",{children:v[x]})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6 text-right",children:Object(n.jsx)("h2",{children:"Seats:"})}),Object(n.jsx)("div",{className:"col-6 text-left",children:Object(n.jsx)("h2",{children:y})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6 text-right",children:Object(n.jsx)("h2",{children:"Rent price:"})}),Object(n.jsx)("div",{className:"col-6 text-left",children:Object(n.jsxs)("h2",{children:["$",p," / day"]})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6 text-right",children:Object(n.jsx)("h2",{children:"Vehicles available:"})}),Object(n.jsx)("div",{className:"col-6 text-left",children:Object(n.jsx)("h2",{children:C})})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-warning mr-1",onClick:function(){i.push("/vehicles/edit/".concat(t))},children:"Edit"}),Object(n.jsx)("button",{type:"button",className:"btn btn-danger mr-1",onClick:function(){i.push("/vehicles/delete/".concat(t))},children:"Delete"})]})})]})}return Object(n.jsx)("div",{className:"text-center",children:"Loading..."})},Q=function(e){var t=Object(a.useState)(""),c=Object(h.a)(t,2),r=c[0],s=c[1],l=Object(a.useState)(""),i=Object(h.a)(l,2),j=i[0],o=i[1],b=Object(a.useState)(""),d=Object(h.a)(b,2),O=d[0],x=d[1],p=Object(u.e)(),v=m.collection("customers");return Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("h1",{children:"Add Customer"}),Object(n.jsxs)(E.a,{onSubmit:function(e){e.preventDefault();var t=new _(r,j,O),c=G(t);!0===c?v.add(Object.assign({},t)).then((function(e){p.push("/customers")})).catch((function(e){alert("Error"),console.log(e)})):alert(c)},children:[Object(n.jsx)(E.a.Label,{children:"Name"}),Object(n.jsx)(E.a.Control,{type:"text",name:"brand",placeholder:"Name...",required:!0,value:r,onChange:function(e){return s(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Email"}),Object(n.jsx)(E.a.Control,{type:"email",placeholder:"Email...",required:!0,value:j,onChange:function(e){return o(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Phone"}),Object(n.jsx)(E.a.Control,{type:"tel",placeholder:"Phone number...",minLength:10,maxLength:20,required:!0,value:O,onChange:function(e){return x(e.target.value)}}),Object(n.jsx)("hr",{}),Object(n.jsx)(D.a,{variant:"primary",type:"submit",children:"Submit"})]})]})},ee=function(e){var t=e.match.params.id,c=Object(a.useState)(null),r=Object(h.a)(c,2),s=r[0],l=r[1],i=Object(u.e)(),j=m.collection("customers");Object(a.useEffect)((function(){j.doc(t).get().then((function(e){l(e.data())}))}),[]);if(s){var o=s.name,b=s.email,d=s.phone;return Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6 text-right",children:Object(n.jsx)("h2",{children:"Name:"})}),Object(n.jsx)("div",{className:"col-6 text-left",children:Object(n.jsx)("h2",{children:o})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6 text-right",children:Object(n.jsx)("h2",{children:"Email:"})}),Object(n.jsx)("div",{className:"col-6 text-left",children:Object(n.jsx)("h2",{children:b})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6 text-right",children:Object(n.jsx)("h2",{children:"Phone number:"})}),Object(n.jsx)("div",{className:"col-6 text-left",children:Object(n.jsx)("h2",{children:d})})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-warning mr-1",onClick:function(){i.push("/customers/edit/".concat(t))},children:"Edit"}),Object(n.jsx)("button",{type:"button",className:"btn btn-danger mr-1",onClick:function(){i.push("/customers/delete/".concat(t))},children:"Delete"})]})})]})}return Object(n.jsx)("div",{className:"text-center",children:"Loading..."})},te=function(e){var t=e.match.params.id,c=Object(a.useState)(null),r=Object(h.a)(c,2),s=r[0],l=r[1],i=Object(u.e)(),j=m.collection("customers");Object(a.useEffect)((function(){j.doc(t).get().then((function(e){l(e.data())}))}),[]);var o=function(){var e=Object(M.a)(B.a.mark((function e(c){var n,a,r,l,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),n=s.name,a=s.email,r=s.phone,!0===(l=G(s))){e.next=6;break}return alert(l),e.abrupt("return");case 6:o=new _(n,a,r),j.doc(t).update(Object.assign({},o)).then((function(e){console.log("Document successfully updated!"),i.push("/customers/view/".concat(t))})).catch((function(e){alert("Error"),console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(s){var b=s.name,d=s.email,O=s.phone;return Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("h1",{children:"EDIT CUSTOMER"}),Object(n.jsxs)(E.a,{onSubmit:o,children:[Object(n.jsx)(E.a.Label,{children:"Name"}),Object(n.jsx)(E.a.Control,{type:"text",name:"brand",placeholder:"Name...",required:!0,value:b,onChange:function(e){return l(Object(J.a)(Object(J.a)({},s),{},{name:e.target.value}))}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Email"}),Object(n.jsx)(E.a.Control,{type:"email",placeholder:"Email...",required:!0,value:d,onChange:function(e){return l(Object(J.a)(Object(J.a)({},s),{},{email:e.target.value}))}}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Phone"}),Object(n.jsx)(E.a.Control,{type:"string",placeholder:"Phone number...",minLength:10,maxLength:20,required:!0,value:O,onChange:function(e){return l(Object(J.a)(Object(J.a)({},s),{},{phone:e.target.value}))}}),Object(n.jsx)("hr",{}),Object(n.jsx)(D.a,{variant:"success",type:"submit",children:"Submit"})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-1",onClick:function(){i.push("/customers/view/".concat(t))},children:"View"}),Object(n.jsx)("button",{type:"button",className:"btn btn-danger mr-1",onClick:function(){i.push("/customers/delete/".concat(t))},children:"Delete"})]})}),Object(n.jsx)("br",{})]})}return Object(n.jsx)("div",{className:"text-center",children:"Loading..."})},ce=function(e){var t=e.match.params.id,c=Object(a.useState)(null),r=Object(h.a)(c,2),s=r[0],l=r[1],i=Object(u.e)(),j=m.collection("customers");Object(a.useEffect)((function(){j.doc(t).get().then((function(e){l(e.data())}))}),[]);var o=function(){var e=Object(M.a)(B.a.mark((function e(c){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,j.doc(t).delete().then((function(){alert("Customer deleted!"),i.push("/customers")})).catch((function(e){alert("Error"),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(s){var b=s.name,d=s.email,O=s.phone;return Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("h1",{children:"DELETE CUSTOMER"}),Object(n.jsxs)(E.a,{onSubmit:o,children:[Object(n.jsx)(E.a.Label,{children:"Name"}),Object(n.jsx)(E.a.Control,{type:"text",name:"brand",placeholder:"Name...",disabled:!0,value:b}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Email"}),Object(n.jsx)(E.a.Control,{type:"email",placeholder:"Email...",disabled:!0,value:d,pattern:U}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a.Label,{children:"Phone"}),Object(n.jsx)(E.a.Control,{type:"tel",placeholder:"Phone number...",disabled:!0,value:O}),Object(n.jsx)("hr",{}),Object(n.jsx)(D.a,{variant:"danger",size:"lg",type:"submit",children:"Delete"})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-1",onClick:function(){i.push("/customers/view/".concat(t))},children:"View"}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning mr-1",onClick:function(){i.push("/customers/delete/".concat(t))},children:"Edit"})]})}),Object(n.jsx)("br",{})]})}return Object(n.jsx)("div",{className:"text-center",children:"Loading..."})},ne=function(e){var t=m.collection("rents"),c=m.collection("vehicles"),a=m.collection("customers"),r=Object(p.a)(t,{idField:"id"}),s=Object(h.a)(r,1)[0],l=Object(p.a)(c,{idField:"id"}),i=(Object(h.a)(l,1)[0],Object(p.a)(a,{idField:"id"})),j=(Object(h.a)(i,1)[0],function(e){var t=e.rentObj,c=t.startDate,a=t.endDate,r=t.customerId,s=t.vehicleId,l=t.rentPrice;return Object(n.jsxs)("tr",{style:{cursor:"pointer"},children:[Object(n.jsx)("td",{children:r}),Object(n.jsx)("td",{children:s}),Object(n.jsx)("td",{children:N(c)}),Object(n.jsx)("td",{children:N(a)}),Object(n.jsx)("td",{children:w(c,a)}),Object(n.jsx)("td",{children:l})]})});return s?Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"text-center",children:"Rents:"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("table",{className:"table table-responsive-md",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Customer"}),Object(n.jsx)("th",{scope:"col",children:"Vehicle"}),Object(n.jsx)("th",{scope:"col",children:"Start Date"}),Object(n.jsx)("th",{scope:"col",children:"End Date"}),Object(n.jsx)("th",{scope:"col",children:"Days"}),Object(n.jsx)("th",{scope:"col",children:"Price"})]})}),Object(n.jsx)("tbody",{children:s.map((function(e,t){return Object(n.jsx)(j,{rentObj:e},t)}))})]})]}):Object(n.jsx)("h1",{className:"text-center",children:"LOADING..."})};var ae=function(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(o.b,{basename:"/",children:Object(n.jsx)(b,{})}),Object(n.jsxs)(o.b,{basename:"/",children:[Object(n.jsx)(u.a,{exact:!0,path:"/",component:d}),Object(n.jsx)(u.a,{exact:!0,path:"/vehicles",component:L}),Object(n.jsx)(u.a,{exact:!0,path:"/vehicles/add",component:K}),Object(n.jsx)(u.a,{exact:!0,path:"/vehicles/edit/:id",component:W}),Object(n.jsx)(u.a,{exact:!0,path:"/vehicles/delete/:id",component:X}),Object(n.jsx)(u.a,{exact:!0,path:"/vehicles/view/:id",component:Z}),Object(n.jsx)(u.a,{exact:!0,path:"/customers",component:F}),Object(n.jsx)(u.a,{exact:!0,path:"/customers/add",component:Q}),Object(n.jsx)(u.a,{exact:!0,path:"/customers/view/:id",component:ee}),Object(n.jsx)(u.a,{exact:!0,path:"/customers/edit/:id",component:te}),Object(n.jsx)(u.a,{exact:!0,path:"/customers/delete/:id",component:ce}),Object(n.jsx)(u.a,{exact:!0,path:"/rent",component:A}),Object(n.jsx)(u.a,{exact:!0,path:"/rents",component:ne})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=document.getElementById("root"),se=Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(ae,{})})});l.a.render(se,re),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.42780dab.chunk.js.map